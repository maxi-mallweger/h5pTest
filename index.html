<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>H5P Interactive Book</title>
    <script type="text/javascript" src="assets/main.bundle.js"></script>
  </head>
  <body>
    <div id="h5p-container"></div>

    <script>
      const el = document.getElementById("h5p-container");
      const options = {
        h5pJsonPath: "h5p-folder/", // Ensure this is relative to the repo
        frameJs: "assets/frame.bundle.js",
        frameCss: "assets/styles/h5p.css",
        // Fix path concatenation to prevent double slashes
        customPath: function (path) {
          // If path includes content or libraries, handle it by adding the base path correctly
          if (
            path.indexOf("content") !== -1 ||
            path.indexOf("libraries") !== -1
          ) {
            // Ensure the base URL is properly concatenated without double slashes
            const basePath = "/h5pTest";
            return basePath + path.replace(/^\/+/, ""); // Remove leading slashes, then prepend the base path
          }
          return path;
        },
      };
      new H5PStandalone.H5P(el, options);
    </script>
  </body>
</html>
